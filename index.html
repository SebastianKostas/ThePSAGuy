<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cyber Safety PSA</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');
    body {
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 0;
      background: #1a1f2b;
      color: #e1e1e1;
      line-height: 1.6;
    }
    h1, h2 {
      margin: 0 0 0.5em;
      font-weight: 600;
      color: #f5c06b;
    }
    p, li {
      color: #cfd2dc;
    }

    header {
      background: #161a28;
      color: #f5c06b;
      padding: 1rem 1rem;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    }
    header p {
      font-size: 1.125rem;
      color: #a1a6b3;
    }

    .content {
      max-width: 1000px;
      margin: auto;
      padding: 1rem 1rem;
    }
    .section {
      background: #242b3a;
      border-radius: 12px;
      padding: 1.25rem;
      margin-bottom: 1.25rem;
      box-shadow: 0 6px 18px rgba(0,0,0,0.4);
      transition: transform 0.3s ease;
    }
    .section:hover {
      transform: translateY(-4px);
    }
    ul {
      padding-left: 1.25rem;
    }
    ul li {
      margin-bottom: 0.75em;
      position: relative;
      padding-left: 1.5em;
    }
    ul li::before {
      content: '‚Ä¢';
      position: absolute;
      left: 0;
      color: #f5c06b;
      font-size: 1.2rem;
      top: 0;
    }

    a.button {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      background-color: #f5c06b;
      color: #161a28;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    a.button:hover {
      background-color: #ddb852;
    }

    .qr-header {
      display: flex;
      gap: 1.5rem;
      align-items: flex-start;
      margin-bottom: 1rem;
    }
    .qr-header .info {
      flex: 0 1 60%;
    }
    .qr-header img {
      flex: 0 1 35%;
      max-width: 250px;
      width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    }
    .qr-header h2 {
      font-size: 1.75rem;
    }

    #user-agreement-modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #user-agreement-modal .modal-box {
      background: #242b3a;
      padding: 2rem;
      max-width: 480px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
      text-align: center;
      color: #cfd2dc;
    }
    #user-agreement-modal p {
      margin-bottom: 1.5rem;
    }
    #user-agreement-modal button {
      padding: 0.6rem 1.5rem;
      margin: 0.5rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1rem;
    }
    #agree-button {
      background-color: #f5c06b;
      color: #161a28;
    }
    #agree-button:hover {
      background-color: #ddb852;
    }
    #decline-button {
      background-color: #c62828;
      color: white;
    }
    #decline-button:hover {
      background-color: #a51e20;
    }

    body.modal-open {
      overflow: hidden;
    }

    small {
      display: block;
      margin-top: 1rem;
      font-size: 0.85rem;
      color: #6e7284;
    }
  </style>
</head>
<body>
  <header>
    <h1>Welcome to the Cyber Safety PSA</h1>
    <p>Your guide to staying secure in a digital world</p>
  </header>

  <section class="section content">
    <div class="qr-header">
      <div class="info">
        <h2>üîç What a QR Code Might Reveal About You</h2>
        <p>Just by scanning and opening a link, a hacker could immediately see the following:</p>
      </div>
      <img src="logo.png" alt="Cyber Security Logo">
    </div>
    <ul id="visitor-info"></ul>
    <p style="margin-top:1rem; font-weight:600; color:#f36819;">
      This data was gathered the moment you opened this page ‚Äî imagine what a malicious link could do with it.
    </p>
  </section>

  <div class="content">
    <div class="section">
      <h2>üö´ Dangers of Clicking Random Links</h2>
      <p>Clicking unknown or suspicious links can lead to phishing attacks, data theft, or malware infections. Always double‚Äëcheck URLs and never click on links from untrusted sources.</p>
      <a class="button" href="#" target="_blank">Learn More</a>
    </div>
    <div class="section">
      <h2>üì∑ Risks of Scanning Random QR Codes</h2>
      <p>QR codes can hide malicious URLs that compromise your device security. Avoid scanning codes from unknown or untrusted sources without verifying them first.</p>
    </div>
    <div class="section">
      <h2>üí£ Types of Malware Hackers Use</h2>
      <ul>
        <li><strong>RATs (Remote Access Trojans):</strong> Give hackers remote control of your device.</li>
        <li><strong>Spyware:</strong> Steals data by secretly monitoring activity.</li>
        <li><strong>Keyloggers:</strong> Record everything you type, including passwords.</li>
        <li><strong>Ransomware:</strong> Locks your files until you pay a ransom.</li>
        <li><strong>Adware:</strong> Floods your device with intrusive ads and may contain malware.</li>
      </ul>
    </div>
    <div class="section">
      <h2>üõ°Ô∏è How to Protect Your Devices</h2>
      <ul>
        <li>Use trusted antivirus and security software.</li>
        <li>Keep your OS and apps up to date.</li>
        <li>Do not scan or click unknown QR codes and links.</li>
        <li>Use multi‚Äëfactor authentication where possible.</li>
        <li>Educate yourself about phishing and social engineering tactics.</li>
      </ul>
    </div>
  </div>

  <div id="user-agreement-modal">
    <div class="modal-box">
      <h2>User Agreement</h2>
      <p>By agreeing you give us permission to gather basic visit data for educational purposes.</p>
      <button id="agree-button">Agree</button>
      <button id="decline-button">Do Not Consent</button>
      <small>Your privacy matters‚Äîno personal data is sold.</small>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC8hiXUACkvZgtuadGz3afqKfDmHrJJVx8",
      authDomain: "psa-website-ab8c7.firebaseapp.com",
      projectId: "psa-website-ab8c7",
      storageBucket: "psa-website-ab8c7.appspot.com",
      messagingSenderId: "119420777548",
      appId: "1:119420777548:web:b194a623e73bd1d4b530e9"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.addEventListener("DOMContentLoaded", () => {
      fetch("https://ipinfo.io/json?token=35c06590e7f3d2")
        .then(res => res.json())
        .then(async data => {
          const list = document.getElementById("visitor-info");
          const now = new Date();

          const visitData = {
            timestamp: now.toISOString(),
            ip: data.ip,
            location: `${data.city}, ${data.region}, ${data.country}`,
            org: data.org,
            userAgent: navigator.userAgent
          };

          const items = [
            ["üìç Location", visitData.location],
            ["üåê IP Address", visitData.ip],
            ["üì± ISP/Org", visitData.org],
            ["üïí Time Accessed", now.toLocaleString()],
            ["üíª Device Info", visitData.userAgent]
          ];

          items.forEach(([label, value]) => {
            const li = document.createElement("li");
            li.innerHTML = `<strong>${label}:</strong> ${value}`;
            list.appendChild(li);
          });

          try {
            await addDoc(collection(db, "visits"), visitData);
          } catch (err) {
            console.error("Error storing data:", err);
          }
        });
    });
  </script>

  <script>
    document.body.classList.add("modal-open");
    document.getElementById("agree-button").addEventListener("click", () => {
      document.getElementById("user-agreement-modal").style.display = "none";
      document.body.classList.remove("modal-open");
    });
    document.getElementById("decline-button").addEventListener("click", () => {
      window.location.href = "https://www.google.com";
    });
  </script>
</body>
</html>
